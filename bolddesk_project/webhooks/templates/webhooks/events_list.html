<!DOCTYPE html>
<html>
<head>
  <title>BoldDesk Webhook Events</title>
  <style>
    table { border-collapse: collapse; width: 100%; margin-bottom: 30px; }
    th, td { border: 1px solid #ccc; padding: 8px; vertical-align: top; }
    th { background: #f5f5f5; }
    .meta { margin: 10px 0; font-family: Arial; }
    pre { white-space: pre-wrap; word-break: break-word; margin: 0; }
  </style>
</head>
<body>
  <h2>BoldDesk Webhook Events</h2>

  {% for e in events %}
    <div class="meta">
      <b>ID:</b> {{ e.id }} |
      <b>Event:</b> {{ e.event_type|default:"(not provided)" }} |
      <b>Received:</b> {{ e.received_at }}
    </div>

    <table>
      <tr>
        <th style="width: 20%;">Field</th>
        <th>Value</th>
      </tr>

      {% for key, value in e.payload.items %}
      <tr>
        <td><b>{{ key }}</b></td>
        <td><pre>{{ value }}</pre></td>
      </tr>
      {% endfor %}
    </table>
  {% empty %}
    <p>No events received yet.</p>
  {% endfor %}
</body>
</html>
